{
	"info": {
		"_postman_id": "36c640ca-315f-4fc7-948c-f02731ebf253",
		"name": "01 Tractus-X Community Days",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "39599174",
		"_collection_link": "https://catena-x-product-material-pass.postman.co/workspace/Team-Workspace~b66fa959-bfa7-4129-8a45-8e9e03ef0cbb/collection/39599174-36c640ca-315f-4fc7-948c-f02731ebf253?action=share&source=collection_link&creator=39599174"
	},
	"item": [
		{
			"name": "Step 2.1.1 Create Aspect Model",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"metadata\" : {\r\n    \"backupReference\" : \"https://dummy.link\",\r\n    \"registrationIdentifier\" : \"https://dummy.link/ID8283746239078\",\r\n    \"economicOperatorId\" : \"BPNL0123456789ZZ\",\r\n    \"lastModification\" : \"2000-01-01\",\r\n    \"predecessor\" : \"urn:uuid:00000000-0000-0000-0000-000000000000\",\r\n    \"issueDate\" : \"2000-01-01\",\r\n    \"version\" : \"1.0.0\",\r\n    \"passportIdentifier\" : \"urn:uuid:550e8400-e29b-41d4-a716-446655440000\",\r\n    \"status\" : \"draft\",\r\n    \"expirationDate\" : \"2030-01-01\"\r\n  },\r\n  \"characteristics\" : {\r\n    \"generalPerformanceClass\" : \"A\",\r\n    \"physicalState\" : \"solid\",\r\n    \"physicalDimension\" : {\r\n      \"width\" : {\r\n        \"value\" : \"<width_placeholder>\",\r\n        \"unit\" : \"unit:millimetre\"\r\n      },\r\n      \"length\" : {\r\n        \"value\" : \"<length_placeholder>\",\r\n        \"unit\" : \"unit:millimetre\"\r\n      },\r\n      \"weight\" : {\r\n        \"value\" : \"<weight_placeholder>\",\r\n        \"unit\" : \"unit:gram\"\r\n      },\r\n      \"height\" : {\r\n        \"value\" : \"<height_placeholder>\",\r\n        \"unit\" : \"unit:millimetre\"\r\n      }\r\n    },\r\n    \"lifespan\" : [ {\r\n      \"value\" : \"<guarantee_value>\",\r\n      \"unit\" : \"<guarantee_unit>\",\r\n      \"key\" : \"guaranteed lifetime\"\r\n    } ]\r\n  },\r\n  \"commercial\" : {\r\n    \"placedOnMarket\" : \"2000-01-01\",\r\n    \"purpose\" : [ \"automotive\" ]\r\n  },\r\n  \"identification\" : {\r\n    \"batch\" : [ {\r\n      \"value\" : \"BID12345678\",\r\n      \"key\" : \"batchId\"\r\n    } ],\r\n    \"codes\" : [ {\r\n      \"value\" : \"8703 24 10 00\",\r\n      \"key\" : \"TARIC\"\r\n    } ],\r\n    \"type\" : {\r\n      \"manufacturerPartId\" : \"123-0.740-3434-A\",\r\n      \"nameAtManufacturer\" : \"<name_placeholder> \"\r\n    },\r\n    \"classification\" : [ {\r\n      \"classificationStandard\" : \"GIN 20510-21513\",\r\n      \"classificationID\" : \"1004712\",\r\n      \"classificationDescription\" : \"Generic standard for classification of parts in the automotive industry.\"\r\n    } ],\r\n    \"serial\" : [ {\r\n      \"value\" : \"<part_instance_id>\",\r\n      \"key\" : \"partInstanceId\"\r\n    } ],\r\n    \"dataCarrier\" : {\r\n      \"carrierType\" : \"QR\",\r\n      \"carrierLayout\" : \"upper-left side\"\r\n    }\r\n  },\r\n  \"sources\" : [ {\r\n    \"header\" : \"Example Document XYZ\",\r\n    \"category\" : \"Product Specifications\",\r\n    \"type\" : \"URL\",\r\n    \"content\" : \"https://dummy.link\"\r\n  } ],\r\n  \"materials\" : {\r\n    \"substancesOfConcern\" : {\r\n      \"applicable\" : true,\r\n      \"content\" : [ {\r\n        \"unit\" : \"unit:partPerMillion\",\r\n        \"hazardClassification\" : {\r\n          \"category\" : \"category 1A\",\r\n          \"statement\" : \"Causes severe skin burns and eye damage.\",\r\n          \"class\" : \"Skin corrosion\"\r\n        },\r\n        \"documentation\" : [ {\r\n          \"contentType\" : \"URL\",\r\n          \"header\" : \"Example Document XYZ\",\r\n          \"content\" : \"https://dummy.link\"\r\n        } ],\r\n        \"concentrationRange\" : [ {\r\n          \"max\" : 2.6,\r\n          \"min\" : 2.1\r\n        } ],\r\n        \"location\" : \"Housing\",\r\n        \"concentration\" : 5.3,\r\n        \"exemption\" : \"shall not apply to product x containing not more than 1,5 ml of liquid\",\r\n        \"id\" : [ {\r\n          \"type\" : \"CAS\",\r\n          \"name\" : \"phenolphthalein\",\r\n          \"id\" : \"201-004-7\"\r\n        } ]\r\n      } ]\r\n    },\r\n    \"materialComposition\" : {\r\n      \"applicable\" : true,\r\n      \"content\" : [ {\r\n        \"unit\" : \"unit:partPerMillion\",\r\n        \"recycled\" : 12.5,\r\n        \"critical\" : true,\r\n        \"renewable\" : 23.5,\r\n        \"documentation\" : [ {\r\n          \"contentType\" : \"URL\",\r\n          \"header\" : \"Example Document XYZ\",\r\n          \"content\" : \"https://dummy.link\"\r\n        } ],\r\n        \"concentration\" : 5.3,\r\n        \"id\" : [ {\r\n          \"type\" : \"CAS\",\r\n          \"name\" : \"phenolphthalein\",\r\n          \"id\" : \"201-004-7\"\r\n        } ]\r\n      } ]\r\n    }\r\n  },\r\n  \"handling\" : {\r\n    \"applicable\" : true,\r\n    \"content\" : {\r\n      \"producer\" : [ {\r\n        \"id\" : \"BPNL0123456789ZZ\"\r\n      } ],\r\n      \"sparePart\" : [ {\r\n        \"manufacturerPartId\" : \"123-0.740-3434-A\",\r\n        \"nameAtManufacturer\" : \"Mirror left\"\r\n      } ]\r\n    }\r\n  },\r\n  \"additionalData\" : [ {\r\n    \"description\" : \"Description of an attribute\",\r\n    \"label\" : \"Maximum permitted battery power\",\r\n    \"type\" : {\r\n      \"typeUnit\" : \"unit:volume\",\r\n      \"dataType\" : \"array\"\r\n    },\r\n    \"data\" : \"23\",\r\n    \"children\" : [ {\r\n      \"description\" : \"Description of an attribute\",\r\n      \"label\" : \"Maximum permitted battery power\",\r\n      \"type\" : {\r\n        \"typeUnit\" : \"unit:volume\",\r\n        \"dataType\" : \"array\"\r\n      },\r\n      \"data\" : \"23\"\r\n    } ]\r\n  } ],\r\n  \"operation\" : {\r\n    \"import\" : {\r\n      \"applicable\" : true,\r\n      \"content\" : {\r\n        \"eori\" : \"GB123456789000\",\r\n        \"id\" : \"BPNL0123456789ZZ\"\r\n      }\r\n    },\r\n    \"other\" : {\r\n      \"id\" : \"BPNL0123456789XX\",\r\n      \"role\" : \"distributor\"\r\n    },\r\n    \"manufacturer\" : {\r\n      \"facility\" : [ {\r\n        \"facility\" : \"BPNA1234567890AA\"\r\n      } ],\r\n      \"manufacturingDate\" : \"<manufacturing_date>\",\r\n      \"manufacturer\" : \"BPNLbi7tAJ8UiMsF\"\r\n    }\r\n  },\r\n  \"sustainability\" : {\r\n    \"reparabilityScore\" : \"B\",\r\n    \"productFootprint\" : {\r\n      \"material\" : [ {\r\n        \"lifecycle\" : \"main product production\",\r\n        \"rulebook\" : [ {\r\n          \"contentType\" : \"URL\",\r\n          \"header\" : \"Example Document XYZ\",\r\n          \"content\" : \"https://dummy.link\"\r\n        } ],\r\n        \"unit\" : \"kg CO2 / kWh\",\r\n        \"performanceClass\" : \"A\",\r\n        \"manufacturingPlant\" : [ {\r\n          \"facility\" : \"BPNA1234567890AA\"\r\n        } ],\r\n        \"type\" : \"Climate Change Total\",\r\n        \"value\" : 12.678,\r\n        \"declaration\" : [ {\r\n          \"contentType\" : \"URL\",\r\n          \"header\" : \"Example Document XYZ\",\r\n          \"content\" : \"https://dummy.link\"\r\n        } ]\r\n      } ],\r\n      \"carbon\" : [ {\r\n        \"lifecycle\" : \"main product production\",\r\n        \"rulebook\" : [ {\r\n          \"contentType\" : \"URL\",\r\n          \"header\" : \"Example Document XYZ\",\r\n          \"content\" : \"https://dummy.link\"\r\n        } ],\r\n        \"unit\" : \"kg CO2 / kWh\",\r\n        \"performanceClass\" : \"A\",\r\n        \"manufacturingPlant\" : [ {\r\n          \"facility\" : \"BPNA1234567890AA\"\r\n        } ],\r\n        \"type\" : \"Climate Change Total\",\r\n        \"value\" : \"<product_carbon_footprint>\",\r\n        \"declaration\" : [ {\r\n          \"contentType\" : \"URL\",\r\n          \"header\" : \"Example Document XYZ\",\r\n          \"content\" : \"https://dummy.link\"\r\n        } ]\r\n      } ],\r\n      \"environmental\" : [ {\r\n        \"lifecycle\" : \"main product production\",\r\n        \"rulebook\" : [ {\r\n          \"contentType\" : \"URL\",\r\n          \"header\" : \"Example Document XYZ\",\r\n          \"content\" : \"https://dummy.link\"\r\n        } ],\r\n        \"unit\" : \"kg CO2 / kWh\",\r\n        \"performanceClass\" : \"A\",\r\n        \"manufacturingPlant\" : [ {\r\n          \"facility\" : \"BPNA1234567890AA\"\r\n        } ],\r\n        \"type\" : \"Climate Change Total\",\r\n        \"value\" : 12.678,\r\n        \"declaration\" : [ {\r\n          \"contentType\" : \"URL\",\r\n          \"header\" : \"Example Document XYZ\",\r\n          \"content\" : \"https://dummy.link\"\r\n        } ]\r\n      } ]\r\n    },\r\n    \"status\" : \"original\",\r\n    \"durabilityScore\" : \"A\"\r\n  }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "<DATA_SERVICE_URL>/urn:uuid:<digitalTwinSubmodelId>",
					"host": [
						"<DATA_SERVICE_URL>"
					],
					"path": [
						"urn:uuid:<digitalTwinSubmodelId>"
					]
				}
			},
			"response": []
		},
		{
			"name": "Step 2.1.2 Verify the Creation",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "<DATA_SERVICE_URL>/urn:uuid:<digitalTwinSubmodelId>",
					"host": [
						"<DATA_SERVICE_URL>"
					],
					"path": [
						"urn:uuid:<digitalTwinSubmodelId>"
					]
				}
			},
			"response": []
		},
		{
			"name": "Step 2.2.1 Create Digital Twin",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// encode digital twin Id into base 64\r",
							"const jsonResponse = pm.response.json();\r",
							"if (jsonResponse && jsonResponse.id) {\r",
							"  const dtId = jsonResponse.id;\r",
							"  pm.collectionVariables.set(\"digitalTwinId\", dtId);\r",
							"  pm.collectionVariables.set(\"base64ShellId\", btoa(dtId));\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Edc-Bpn",
						"value": "BPNL000000000FV1",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"description\": [\r\n    {\r\n      \"language\": \"en\",\r\n      \"text\": \"Car/part Digital Twin\"\r\n    }\r\n  ],\r\n  \"displayName\": [],\r\n  \"globalAssetId\": \"urn:uuid:<digitalTwinId>\",\r\n  \"idShort\": \"Car\",\r\n  \"id\": \"<digitalTwinId>\",\r\n  \"specificAssetIds\": [\r\n    {\r\n      \"name\": \"manufacturerId\",\r\n      \"value\": \"BPNL000000000FV1\",\r\n      \"externalSubjectId\": {\r\n        \"type\": \"ExternalReference\",\r\n        \"keys\": [\r\n          {\r\n            \"type\": \"GlobalReference\",\r\n            \"value\": \"BPNL000000000FV1\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"name\": \"partInstanceId\",\r\n      \"value\": \"<YOUR PART INSTANCE ID>\",\r\n      \"externalSubjectId\": {\r\n        \"type\": \"ExternalReference\",\r\n        \"keys\": [\r\n          {\r\n            \"type\": \"GlobalReference\",\r\n            \"value\": \"BPNL000000000FV1\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"name\": \"manufacturerPartId\",\r\n      \"value\": \"MPI7654\",\r\n      \"externalSubjectId\": {\r\n        \"type\": \"ExternalReference\",\r\n        \"keys\": [\r\n          {\r\n            \"type\": \"GlobalReference\",\r\n            \"value\": \"PUBLIC_READABLE\"\r\n          },\r\n          {\r\n            \"type\": \"GlobalReference\",\r\n            \"value\": \"BPNL000000000FV1\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"name\": \"digitalTwinType\",\r\n      \"value\": \"PartInstance\",\r\n      \"externalSubjectId\": {\r\n        \"type\": \"ExternalReference\",\r\n        \"keys\": [\r\n          {\r\n            \"type\": \"GlobalReference\",\r\n            \"value\": \"BPNL000000000FV1\"\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ],\r\n  \"submodelDescriptors\": [\r\n    {\r\n      \"endpoints\": [\r\n        {\r\n          \"interface\": \"SUBMODEL-3.0\",\r\n          \"protocolInformation\": {\r\n            \"href\": \"https://dpp.int.catena-x.net/provider/api/public/<digitalTwinSubmodelId>\",\r\n            \"endpointProtocol\": \"HTTP\",\r\n            \"endpointProtocolVersion\": [\"1.1\"],\r\n            \"subprotocol\": \"DSP\",\r\n            \"subprotocolBody\": \"id=urn:uuid:0c3d2db0-e5c6-27f9-5875-15a9a00e7a27;dspEndpoint=https://dpp.int.catena-x.net/provider\",\r\n            \"subprotocolBodyEncoding\": \"plain\",\r\n            \"securityAttributes\": [\r\n              {\r\n                \"type\": \"NONE\",\r\n                \"key\": \"NONE\",\r\n                \"value\": \"NONE\"\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      ],\r\n      \"idShort\": \"digitalProductPass\",\r\n      \"id\": \"<digitalTwinSubmodelId>\",\r\n      \"semanticId\": {\r\n        \"type\": \"ExternalReference\",\r\n        \"keys\": [\r\n          {\r\n            \"type\": \"Operation\",\r\n            \"value\": \"https://w3c.github.io/vc-jws-2020/contexts/v1/\"\r\n          },\r\n          {\r\n            \"type\": \"Submodel\",\r\n            \"value\": \"urn:samm:io.catenax.generic.digital_product_passport:5.0.0#DigitalProductPassport\"\r\n          },\r\n          {\r\n            \"type\": \"Entity\",\r\n            \"value\": \"https://www.w3.org/ns/credentials/v2\"\r\n          },\r\n          {\r\n            \"type\": \"DataElement\",\r\n            \"value\": \"urn:samm:io.catenax.dpp_verification.cdc:1.0.0#CertifiedDataCredential\"\r\n          }\r\n        ]\r\n      },\r\n      \"description\": [\r\n        {\r\n          \"language\": \"en\",\r\n          \"text\": \"Digital Product Pass Submodel\"\r\n        }\r\n      ],\r\n      \"displayName\": []\r\n    }\r\n  ]\r\n}\r\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "<DIGITAL_TWIN_REGISTRY_URL>/shell-descriptors",
					"host": [
						"<DIGITAL_TWIN_REGISTRY_URL>"
					],
					"path": [
						"shell-descriptors"
					]
				}
			},
			"response": []
		},
		{
			"name": "Step 2.2.2 Verify the Creation",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "<DIGITAL_TWIN_REGISTRY_URL>/shell-descriptors/<DIGITAL_TWIN_ID_BASE64_ENCODED>",
					"host": [
						"<DIGITAL_TWIN_REGISTRY_URL>"
					],
					"path": [
						"shell-descriptors",
						"<DIGITAL_TWIN_ID_BASE64_ENCODED>"
					]
				}
			},
			"response": []
		},
		{
			"name": "Step 2.3 Modify Digital Twin",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// encode digital twin Id into base 64\r",
							"pm.collectionVariables.set(\"base64ShellId\", btoa(pm.collectionVariables.get(\"digitalTwinId\")));"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"description\": [\r\n    {\r\n      \"language\": \"en\",\r\n      \"text\": \"Car/part Digital Twin\"\r\n    }\r\n  ],\r\n  \"displayName\": [],\r\n  \"globalAssetId\": \"urn:uuid:e5ab3398-bde1-4ef2-bb70-fd6dd1138e60\",\r\n  \"idShort\": \"<PART_NAME>\",\r\n  \"id\": \"<UUID-1>\",\r\n  \"specificAssetIds\": [\r\n    {\r\n      \"name\": \"manufacturerId\",\r\n      \"value\": \"BPNL000000000FV1\",\r\n      \"externalSubjectId\": {\r\n        \"type\": \"ExternalReference\",\r\n        \"keys\": [\r\n          {\r\n            \"type\": \"GlobalReference\",\r\n            \"value\": \"BPNL000000000FV1\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"name\": \"partInstanceId\",\r\n      \"value\": \"<YOUR PART INSTANCE ID>\",\r\n      \"externalSubjectId\": {\r\n        \"type\": \"ExternalReference\",\r\n        \"keys\": [\r\n          {\r\n            \"type\": \"GlobalReference\",\r\n            \"value\": \"BPNL000000000FV1\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"name\": \"manufacturerPartId\",\r\n      \"value\": \"MPI7654\",\r\n      \"externalSubjectId\": {\r\n        \"type\": \"ExternalReference\",\r\n        \"keys\": [\r\n          {\r\n            \"type\": \"GlobalReference\",\r\n            \"value\": \"PUBLIC_READABLE\"\r\n          },\r\n          {\r\n            \"type\": \"GlobalReference\",\r\n            \"value\": \"BPNL000000000FV1\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"name\": \"digitalTwinType\",\r\n      \"value\": \"PartInstance\",\r\n      \"externalSubjectId\": {\r\n        \"type\": \"ExternalReference\",\r\n        \"keys\": [\r\n          {\r\n            \"type\": \"GlobalReference\",\r\n            \"value\": \"BPNL000000000FV1\"\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ],\r\n  \"submodelDescriptors\": [\r\n    {\r\n      \"endpoints\": [\r\n        {\r\n          \"interface\": \"SUBMODEL-3.0\",\r\n          \"protocolInformation\": {\r\n            \"href\": \"https://dpp.int.catena-x.net/provider/api/public/<UUID-2>\",\r\n            \"endpointProtocol\": \"HTTP\",\r\n            \"endpointProtocolVersion\": [\"1.1\"],\r\n            \"subprotocol\": \"DSP\",\r\n            \"subprotocolBody\": \"id=urn:uuid:0c3d2db0-e5c6-27f9-5875-15a9a00e7a27;dspEndpoint=https://dpp.int.catena-x.net/provider\",\r\n            \"subprotocolBodyEncoding\": \"plain\",\r\n            \"securityAttributes\": [\r\n              {\r\n                \"type\": \"NONE\",\r\n                \"key\": \"NONE\",\r\n                \"value\": \"NONE\"\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      ],\r\n      \"idShort\": \"digitalProductPass\",\r\n      \"id\": \"<UUID-2>\",\r\n      \"semanticId\": {\r\n        \"type\": \"ExternalReference\",\r\n        \"keys\": [\r\n          {\r\n            \"type\": \"Operation\",\r\n            \"value\": \"https://w3c.github.io/vc-jws-2020/contexts/v1/\"\r\n          },\r\n          {\r\n            \"type\": \"Submodel\",\r\n            \"value\": \"urn:samm:io.catenax.generic.digital_product_passport:5.0.0#DigitalProductPassport\"\r\n          },\r\n          {\r\n            \"type\": \"Entity\",\r\n            \"value\": \"https://www.w3.org/ns/credentials/v2\"\r\n          },\r\n          {\r\n            \"type\": \"DataElement\",\r\n            \"value\": \"urn:samm:io.catenax.dpp_verification.cdc:1.0.0#CertifiedDataCredential\"\r\n          }\r\n        ]\r\n      },\r\n      \"description\": [\r\n        {\r\n          \"language\": \"en\",\r\n          \"text\": \"Digital Product Pass Submodel\"\r\n        }\r\n      ],\r\n      \"displayName\": []\r\n    }\r\n  ]\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "<DIGITAL_TWIN_REGISTRY_URL>/shell-descriptors/<DIGITAL_TWIN_ID_BASE64_ENCODED>",
					"host": [
						"<DIGITAL_TWIN_REGISTRY_URL>"
					],
					"path": [
						"shell-descriptors",
						"<DIGITAL_TWIN_ID_BASE64_ENCODED>"
					]
				}
			},
			"response": []
		}
	],
	"variable": [
		{
			"key": "digitalTwinId",
			"value": ""
		},
		{
			"key": "base64ShellId",
			"value": ""
		}
	]
}